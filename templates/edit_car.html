
<!-- edit_car.html -->

{% extends "base.html" %}

{% block title %}Edit {{ car.make }} {{ car.model }}{% endblock %} {% block content %}
    <div class="form-container">
        <h2>üìù Edit {{ car.year }} {{ car.make }} {{ car.model }}</h2>
        <p>You can update the **Year**, **Price**, and **Image URL**.</p>
        <hr>
        
        {% if error %}
            <div class="flash-message flash-danger" role="alert" style="margin-bottom: 20px;">
                {{ error }}
            </div>
        {% endif %}
        
        <form method="POST" action="{{ url_for('edit_car_route', vin=car.vin) }}">
            
            <p><strong>VIN:</strong> {{ car.vin }}</p>
            <p><strong>Make:</strong> {{ car.make }}</p>
            <p><strong>Model:</strong> {{ car.model }}</p>
            
            <label for="year">New Year:</label>
            <input type="number" id="year" name="year" value="{{ car.year }}" required min="1900" 
                   max="2050"> 

            <label for="price">New Price ($):</label>
            <input type="number" id="price" name="price" value="{{ car.price | float }}" required step="0.01" min="1">
            
            <label for="image_url">New Image URL (Optional):</label>
            <input type="text" id="image_url" name="image_url" 
                   value="{% if car.image_url and car.image_url != '/static/placeholder.png' %}{{ car.image_url }}{% endif %}">

            <button type="submit" class="btn btn-primary" style="margin-top: 20px;">Save Changes</button>
        </form>
        <a href="{{ url_for('index') }}" style="display: block; margin-top: 15px;">‚Üê Cancel and Go Back to Inventory</a>
    </div>
{% endblock %}